/*! For license information please see theme_v1.0.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=window,t=document,r=t.documentElement||t.body,s=e=>typeof e,a=e=>Object.prototype.toString.call(e),o=null,c="",n=s(c),m=a([]),l=e=>s(e)===n,i=Array.isArray||(e=>a(e)===m),d=e=>{throw"Fail to "+e},h=(e,t,r,s)=>{e.addEventListener(t,r,s)},g=(e,t)=>new RegExp(e,t),u=(e,t,r)=>{try{const s=" ",a="|",o="g",n=g("[\\.\\|\\s]+",o),m=(e,t=a)=>e.trim().replace(n,t).trim(),l=r?m(r,s):c,i=t?m([t,l].join(s)).trim():c,d=g("(^|\\s+)("+i+")(\\s*("+i+"))*(\\s+|$)",o),h=e.className.replace(d,s).trim()+(l.length?s+l:c);return e.className=h,e}catch(e){d("updateClass")}},p=(()=>{const{localStorage:t}=e,r=e=>{e?t.removeItem(e):d("remove "+e)};return{set:(e,s)=>{e?l(s)?t.setItem(e,s):r(e):d("set "+e)},get:e=>e?t.getItem(e):(d("get "+e),o),remove:r}})(),y=(()=>{const t="theme",s="themes",a="_dark",n=(e,a)=>{var o=f||c;i(e)&&(v=e,p.set(s,JSON.stringify(v)),e=v[l(a)?v.indexOf(a||c):0]),f=l(e)?e:c,u(r,o,f),p.set(t,f)},m=()=>{n(v[v.indexOf(f||c)+1]||c)},d=e.matchMedia("(prefers-color-scheme: dark)");var g=(e=>{try{return e&&JSON.parse(e)}catch(t){console.error("Fail to parse stored themes: "+e)}return o})(p.get(s)),y=p.get(t),v=g||[a],f=l(y)?y:d.matches?a:c;return u(r,o,f),h(d,"change",(e=>{e.matches?n(a):n()})),h(e,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&m()})),{reset:()=>{v=[a];var e=f||c;f=d.matches?a:c,u(r,e,f),p.remove(t),p.remove(s)},set:n,change:m,list:()=>v,current:()=>f,fn:{updateClass:u,storage:p}}})();e.theme=y})()})();