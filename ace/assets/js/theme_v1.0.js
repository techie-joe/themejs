/*! For license information please see theme_v1.0.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=window,t=document,r=t.documentElement||t.body,s=e=>typeof e,a=e=>Object.prototype.toString.call(e),o=null,c="",n=s(c),m=a([]),l=e=>s(e)===n,i=Array.isArray||(e=>a(e)===m),d=e=>{throw"Fail to "+e},g=(e,t,r,s)=>{e.addEventListener(t,r,s)},h=(e,t)=>new RegExp(e,t),u=(e,t,r)=>{try{const s=" ",a="|",o="g",n=h("[\\.\\|\\s]+",o),m=(e,t=a)=>e.trim().replace(n,t).trim(),l=r?m(r,s):c,i=t?m([t,l].join(s)).trim():c,d=h("(^|\\s+)("+i+")(\\s*("+i+"))*(\\s+|$)",o),g=e.className.replace(d,s).trim()+(l.length?s+l:c);return e.className=g,e}catch(e){d("updateClass")}},p=(()=>{const{localStorage:t}=e,r=e=>{e?t.removeItem(e):d("remove "+e)};return{set:(e,s)=>{e?l(s)?t.setItem(e,s):r(e):d("set "+e)},get:e=>e?t.getItem(e):(d("get "+e),o),remove:r}})(),y=(()=>{const t="theme",s="themes",a="_dark",n=(e,a)=>{var o=O||c;i(e)&&(v=e,p.set(s,JSON.stringify(v)),e=v[a?v.indexOf(a||c):0]),O=l(e)?e:c,u(r,o,O),p.set(t,O)},m=()=>{n(v[v.indexOf(O||c)+1]||c)},d=e.matchMedia("(prefers-color-scheme: dark)"),h=d.matches;var y=(e=>{try{return e&&JSON.parse(e)}catch(t){console.error("Fail to parse stored themes: "+e)}return o})(p.get(s)),f=p.get(t),v=y||[a],O=l(f)?f:h?a:c;return u(r,o,O),g(d,"change",(e=>{e.matches?n(a):n()})),g(e,"keyup",(e=>{e.altKey&&"KeyT"===e.code&&m()})),{set:n,change:m,list:()=>v,current:()=>O,fn:{updateClass:u,storage:p}}})();e.theme=y})()})();